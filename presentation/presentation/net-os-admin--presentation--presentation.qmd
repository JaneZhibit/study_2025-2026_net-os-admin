---
# Preamble

## Author
author:
  name: Жибицкая Евгения Дмитриевна
  degrees:
  orcid: 
  email: 
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6
## Title
title: Фильтр пакетов iptables
subtitle: Администрирование сетевых подсистем
license: CC BY
date: 2025-10-10
## Generic options
lang: ru-RU
crossref:
  lof-title: Список иллюстраций
  lot-title: Список таблиц
  lol-title: Листинги
## Formats
format:
### Pdf output format
  beamer:
    toc: true
    toc-title: Содержание
    number-sections: true
    colorlinks: false
    toc-depth: 2
    slide_level: 2
    aspectratio: 169
    section-titles: true
    theme: metropolis
    themeoptions: progressbar=frametitle,sectionpage=progressbar,numbering=fraction
#### Language
    babel-lang: russian
    babel-otherlangs: english
### Html output
  revealjs:
    transition: slide
    margin: 0.2
    smaller: false
    output-ext: html
    theme: beige
    logo: _resources/image/logo_rudn.png
---

# Вводная часть

## Актуальность

- Сетевые атаки и несанкционированный доступ  - одна из главных угроз сферы

Данная утилита позволяет минимизировать эту угрозу или вовсе ее избежать

- Iptables является одним из основных инструментов фильтрации пакетов

Знания по его работе и устройству необходимы практически каждому системному администратору


## Цели и задачи

- Познакомиться с фильтром пакетов iptables
- Рассмотреть его компоненты, принцип работы  и структруру
- Оценить актуальность утилиты и ее значение



# Основная часть

## Общие сведения. Определение
:::::::::::::: {.columns align=center}
::: {.column width="70%"}

iptables — это пользовательская утилита командной строки, которая позволяет администратору управлять правилами фильтрации пакетов и преобразования сетевых адресов. Она является интерфейсом к подсистеме Netfilter — встроенному механизму ядра Linux, который перехватывает и обрабатывает сетевые пакеты на различных этапах их прохождения через систему.

Утилита основана на системе таблиц, цепочек правил (INPUT, FORWARD, OUTPUT) и отдельных правил, которые определяют действия (разрешить, заблокировать) над пакетами данных.

:::
::: {.column width="30%"}

![Iptables](./image/3.jpg)

:::
::::::::::::::


## Принцип работы


Работа подсистемы основана на пяти основных точках перехвата пакетов (hooks) :

1. PREROUTING – пакеты обрабатываются сразу после поступления в систему, до определения маршрута. 
2. INPUT – обработка пакетов, адресованных непосредственно локальной системе.
3. FORWARD – обработка транзитных пакетов, пересылаемых через систему на другие узлы.
4. OUTPUT – обработка пакетов, сгенерированных самой системой перед их отправкой.
5. POSTROUTING – обработка пакетов после определения маршрута, перед их отправкой в сеть.

Пакеты проверяются на соответсвие правилам в таблице и цепочках. При совпадении выполняется действие - принятие пакета, отбрасывние и др.


## Таблицы и цепочки
:::::::::::::: {.columns align=center}
::: {.column width="50%"}


filter – основная таблица для фильтрации (INPUT, FORWARD, OUTPUT).

nat – трансляция адресов (PREROUTING, OUTPUT, POSTROUTING).

mangle – модификация заголовков пакетов.

raw – задание исключений из механизма слежения за состоянием соединений.

security – интеграция с SELinux и политиками безопасности.
:::
::: {.column width="50%"}

![Таблицы](image/4.png)

:::
::::::::::::::

## Правила
:::::::::::::: {.columns align=center}
::: {.column width="60%"}

Каждое правило состоит из условий сопоставления и действия.

Правила проверяются сверху вниз до первого совпадения.
:::
::: {.column width="40%"}

* Условия: IP-адреса, порты, протоколы, интерфейсы.

* Действия: ACCEPT, DROP, REJECT, LOG, DNAT, SNAT, MASQUERADE.
:::
::::::::::::::

## Правила. Примеры
:::::::::::::: {.columns align=center}
::: {.column width="60%"}

Пример добавления правила:

sudo iptables -A INPUT -p tcp --dport 22 -j ACCEPT


Это правило разрешает входящие TCP-подключения на порт 22 (SSH).

Удаление правила:

sudo iptables -D INPUT -p tcp --dport 22 -j ACCEPT

:::
::: {.column width="40%"}

![Добавление и удаление правил](image/1.jpg)

:::
::::::::::::::

## Правила. Примеры
:::::::::::::: {.columns align=center}
::: {.column width="70%"}


![Просмотр текущих правил](image/2.jpg)

:::
::: {.column width="30%"}


sudo iptables -L -v -n

:::
::::::::::::::



##  iptables и nftables
:::::::::::::: {.columns align=center}
::: {.column width="50%"}

- nftables — современная замена iptables (с ядра 3.13). 
 Nftables объединяет функциональность нескольких утилит (iptables, ip6tables, arptables, ebtables) в один инструмент с единым синтаксисом, что упрощает управление и снижает вероятность ошибок. 

:::
::: {.column width="50%"}

Ключевые отличия:

- Nftables: Позволяет создавать собственные таблицы и цепочки, что дает большую гибкость в организации правил. 

- Iptables: Имеет предопределенные таблицы  и цепочки.
:::
::::::::::::::



# Заключение

## Заключение


Фильтр пакетов iptables является важным инструментом обеспечения сетевой безопасности в операционных системах Linux. 

Несмотря на развитие nftables, iptables остаётся востребованным решением

Он предоставляет гибкие и мощные средства управления сетевым трафиком, позволяет эффективно управлять сетевыми потоками и защищать систему от внешних и внутренних угроз.



# Список литературы
## Список литературы

- Documentation of iptables in Linux man pages: man iptables
- Linux Foundation. Netfilter Project – Official Documentation. URL: [https://www.netfilter.org](https://www.netfilter.org) (дата обращения: 05.10.2025).
- Red Hat. Securing Networks: Using iptables and Firewalls. Red Hat Enterprise Linux Documentation. URL: [https://access.redhat.com/documentation](https://access.redhat.com/documentation) (дата обращения: 04.10.2025).
- R. Russell, Linux IP Tables Pocket Reference. — O’Reilly Media, 2004.
- Ubuntu Community Help Wiki. IptablesHowTo. URL: [https://help.ubuntu.com/community/IptablesHowTo](https://help.ubuntu.com/community/IptablesHowTo) (дата обращения: 05.10.2025).


